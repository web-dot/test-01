<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="style.css" rel="stylesheet">
  <title>Document</title>
</head>
<body>
  <div class="header">
    <p class="title">WHAT DO YOU LOVE? </br><span>Pick ONE</span></p>
  </div>

  <div class="imagecontainer">
    <div>
      
        <img id="flowerimg" onclick="addFlower(), showResponse()"  src="flower.jpg" width="250px" height="200px">
      
      
    </div>

    <div>
      
        <img id="carimg" onclick="addCar(), showResponse()"  src="car.jpg" width="250px" height="200px">
      
      
    </div>

    <div>
      
        <img id="mountainimg" onclick="addMountain(), showResponse()"  src="mountain.jpg" width="250px" height="200px">
      
      
    </div>
    
    <div>
      
        <img id="ipodimg" onclick="addIpod(), showResponse()"  src="ipod.jpg" width="250px" height="200px">
      
      
    </div>
    
  </div>


  <script>
  

  /**
 *  gather user data
 */
  
  let flowerArr = [];
  let carArr = [];
  let mountainArr = [];
  let ipodArr = [];
    

    let addFlower = async function(){
        flowerArr.push("flower-added")
        //console.log(`flowerCount: ${flowerArr.length}`);
        // sendData();

        let data = {flowers: flowerArr.length, cars: carArr.length, mountain: mountainArr.length, ipod: ipodArr.length}
        console.log(data)
        const options = {
        method: 'POST',
        headers: {
          'Content-Type' : 'application/json'
        },
        body: JSON.stringify(data)
      }
      const response = await fetch('/api', options);
      const json = await response.json();
      console.log(json);
    }

    let addCar = async function(){
        carArr.push("car-added")
        //console.log(`carCount: ${carArr.length}`);
        // sendData();

        let data = {flowers: flowerArr.length, cars: carArr.length, mountain: mountainArr.length, ipod: ipodArr.length}
        console.log(data)
        const options = {
        method: 'POST',
        headers: {
          'Content-Type' : 'application/json'
        },
        body: JSON.stringify(data)
      }
      const response = await fetch('/api', options);
      const json = await response.json();
      console.log(json);
    }
    let addMountain = async function(){
        mountainArr.push("mountain-added")
        //console.log(`mountainCount: ${mountainArr.length}`);
        // sendData();

        let data = {flowers: flowerArr.length, cars: carArr.length, mountain: mountainArr.length, ipod: ipodArr.length}
        console.log(data)
        const options = {
        method: 'POST',
        headers: {
          'Content-Type' : 'application/json'
        },
        body: JSON.stringify(data)
      }
      const response = await fetch('/api', options);
      const json = await response.json();
      console.log(json);
    }
    let addIpod = async function(){
        ipodArr.push("ipod-added")
        //console.log( `ipodCount: ${ipodArr.length}`);
        // sendData();

        let data = {flowers: flowerArr.length, cars: carArr.length, mountain: mountainArr.length, ipod: ipodArr.length}
        console.log(data)
        const options = {
        method: 'POST',
        headers: {
          'Content-Type' : 'application/json'
        },
        body: JSON.stringify(data)
      }
      const response = await fetch('/api', options);
      const json = await response.json();
      console.log(json);
    }
  
    let showResponse = function (){
      alert("Thank you for your input, it means a lot!")
    }
    

    /**
    *  sending user data as POST
    */


    

    
    
    
  



  </script>
</body>
</html>